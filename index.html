<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Athamgudi Palace VR</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <style>
    body{
      cursor: default;
    }
    .clickable {
      cursor: pointer;
    }
  </style>
</head>
<body>
  <a-scene>
    <a-sky src="./1.png" rotation="0 -90 0"></a-sky>

      <a-plane
        id="top"
        src="./next.png"
        position="0 -3 -3"
        width="1"
        height="1"
        rotation="-90 90 0"
        transparent="true"
        material="opacity: 0.8; transparent: true"></a-plane>

        <a-plane
        id="right"
        src="./next.png"
        position="1 -3 -2"
        width="1"
        height="1"
        rotation="-90 0 0"
        transparent="true"
        material="opacity: 0.8; transparent: true"></a-plane>

        <a-plane
        id="left"
        src="./next.png"
        position="-1 -3 -2"
        width="1"
        height="1"
        rotation="-90 180 0"
        transparent="true"
        material="opacity: 0.8; transparent: true"></a-plane>

        <a-plane
        id="bottom"
        src="./next.png"
        position="0 -3 -1"
        width="1"
        height="1"
        rotation="-90 -90 0"
        transparent="true"
        material="opacity: 0.8; transparent: true"></a-plane>


    <a-camera position="0 1 0" cursor="rayOrigin: mouse"></a-camera>
  </a-scene>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      //main
      const sky = document.querySelector("a-sky");

      //buttons
      const left = document.getElementById("left");
      const right = document.getElementById("right");
      const top = document.getElementById("top");
      const bottom = document.getElementById("bottom");

      var left_value = 0;
      var right_value = 0;
      var top_value = 0;
      var bottom_value = 0;

      var left_location = '';
      var right_location = '';
      var top_location = '';
      var bottom_location = '';
    
      
      function update_images() {
        setTimeout(()=>{
          left.setAttribute('visible', left_value !== 0);
          right.setAttribute('visible', right_value !== 0);
          top.setAttribute('visible', top_value !== 0);
          bottom.setAttribute('visible', bottom_value !== 0);
        },200)
       
      }
      
      const functions = {
         scene1: function(){
            sky.setAttribute('src','1.png')
            top_value = 1;
            bottom_value = 0;
            right_value = 0;
            left_value = 0;
            top_location='scene2';
            left_location = '';
            right_location = '';
            bottom_location = '';
            update_images();
        },
  
          scene2 : function(){
            sky.setAttribute('src','2.png');
            top_value=1;
            bottom_value = 1;
            right_value = 0;
            left_value = 0;
            top_location='scene3';
            left_location = '';
            right_location = '';
            bottom_location = 'scene1';
            update_images();
        },

          scene3 : function(){
            sky.setAttribute('src','3.png');
            top_value=1;
            bottom_value = 1;
            right_value = 0;
            left_value = 0;
            top_location='scene4';
            left_location = '';
            right_location = '';
            bottom_location = 'scene2';
            update_images();
          },


          scene4 : function (){
            sky.setAttribute('src','4.png');
            
            top_value = 1;
            bottom_value = 1;
            right_value = 1;
            left_value = 1;
            top_location = 'scene8';
            left_location = 'scene6';
            right_location = 'scene5';
            bottom_location = 'scene3';
            update_images();
          },  
          
          
          scene5 : function(){
            sky.setAttribute('src','5.png');
            top_value = 0;
            bottom_value = 0;
            right_value = 0;
            left_value = 1;
            top_location = '';
            left_location = 'scene4';
            right_location = '';
            bottom_location = '';
            update_images();
          },

          scene6 : function(){
            sky.setAttribute('src','6.png');
            top_value = 0;
            bottom_value = 0;
            right_value = 1;
            left_value = 0;
            top_location = '';
            left_location = '';
            right_location = 'scene4';
            bottom_location = '';
            update_images();
          },

          scene8 : function(){
            sky.setAttribute('src','8.png');
            top_value = 1;
            bottom_value = 1;
            right_value = 0;
            left_value = 1;
            top_location = 'scene9';
            left_location = 'scene7';
            right_location = '';
            bottom_location = 'scene4';
            update_images();
          }, 

          scene7 : function(){
            sky.setAttribute('src','7.png');
            top_value = 0;
            bottom_value = 0;
            right_value = 1;
            left_value = 0;
            top_location = '';
            left_location = '';
            right_location = 'scene8';
            bottom_location = '';
            update_images();
          },

          scene9 : function(){
            sky.setAttribute('src','9.png');
            top_value = 1;
            bottom_value = 1;
            right_value = 0;
            left_value = 0;
            top_location = 'scene10';
            left_location = '';
            right_location = '';
            bottom_location = 'scene8';
            update_images();
          },

          scene10 : function(){
            sky.setAttribute('src','10.png');
            top_value = 0;
            bottom_value = 1;
            right_value = 0;
            left_value = 0;
            top_location = '';
            left_location = '';
            right_location = '';
            bottom_location = 'scene9';
            update_images();
          }
          
      }
        
      functions.scene1(); // default scene
      

      function handleDirectionClick(location) {
        const sceneName = location();
        if (functions[sceneName]) {
          functions[sceneName]();
        } else {
          console.warn("No function found for:", sceneName);
        }
      }
      
      top.addEventListener('click', () => handleDirectionClick(() => top_location));
      left.addEventListener('click', () => handleDirectionClick(() => left_location));
      right.addEventListener('click', () => handleDirectionClick(() => right_location));
      bottom.addEventListener('click', () => handleDirectionClick(() => bottom_location));
      

    });
  </script>
</body>
</html>
